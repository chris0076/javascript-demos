<html>
    <head>
        <meta charset="UTF-8">
        <title>Canvas Stuff</title>
        <link rel="stylesheet" href="base.css" />

        <script type="text/javascript" src="jquery-1.7.1.min.js"></script>
        <script type="text/javascript" src="page.js"></script>
        <script type="text/javascript" src="utils.js"></script>
        <script type="text/javascript" src="voronoi.js"></script>
        <script type="text/javascript" src="mandelbrot.js"></script>
    </head>

    <body>
        <div class="container">
            <div class="container2">
                <h1>Javascript Demos</h1>
                <h5>(These work best with chrome)</h5>

                <div class="content">
                    <div class="title">Voronoi (Worley noise)</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="voronoi" width="500" height="500" tabindex="1"></canvas>
                        </div>
                        This is just a basic demo of Voronoi (worley noise).
                        <p>
                        Clicking the canvas will rerender with a new set of random points. Pressing <code>A</code>, <code>S</code>, <code>D</code>, or <code>F</code> will change the distance metric used to Euclidean squared, Euclidean, Manhattan, or Chebychev, respectively.
                    </div>
                </div>

                <div class="content">
                    <div class="title">Interactive Voronoi (Worley noise)</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="voronoipoints" width="500" height="500"></canvas>
                        </div>
                        This demo is the same as the one before with the added ability to click to add points to calculate the image from. The algorthm used is extremely naive (n<super>2</super>comparisons), and is not suitable for much more than a couple points. Performance could be improved by reducing the comparisons required by using Fortune's algorthm.
                    </div>
                </div>

                <div class="content">
                    <div class="title">Mandelbrot</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="mandelbrot" width="600" height="400"></canvas>
                            <label for="centerx">Center X</label>
                            <input type="text" id="centerx" value="-0.5" />
                            <label for="centery">Center Y</label>
                            <input type="text" id="centery" value="0.0" />
                            <br>
                            <label for="zoom">Zoom</label>
                            <input type="text" id="zoom" value="0"/>
                        </div>
                        Z<sub>n+1</sub> = Z<sub>n</sub><super>2</super> + C<br>
                        This is a mandelbrot. This image is rendered with a simple equation.
                        <p>
                        Left clicking will zoom in on that point, right clicking will zoom out. Note: Around a zoom level of 45 you will notice the limits of the precision of javascript's floats. This causes pixellation and banding in the image.
                        <p>
                        In the points of interest listed below, you can see some of the points of self similarity all over the complex plane at varying zoom levels.<br>
                        <coord>(-0.5, 0, 0)</coord><br>
                        <coord>(-0.041739845552092626, 0.9862504959838833, 8)</coord><br>
                        <coord>(-1.2840349708699048, 0.42734845335127464, 12)</coord><br>
                        <coord>(-1.9539647648572862, 1.3152440297281372e-12, 29)</coord><br>
                    </div>
                </div>

                <div class="content">
                    <div class="title">Mandelbrot Iterations</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="mandelbrotiteration" width="600" height="400"></canvas>
                        </div>
                        As you scrub from left to right it adds more iterations (1 iteration per 4 pixels). With this you can see the added detail with running more iterations.
                    </div>
                </div>

                <div class="content">
                    <div class="title">Smoothing the Mandelbrot</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="mandelbrotsmooth" width="600" height="400"></canvas>
                        </div>
                        This is the same as before with an added smoothing function for the coloring.
                        <p>
                        Scrubbing from left to right scales the amount before the smoothing repeats.
                    </div>
                </div>

                <div class="content">
                    <div class="title">Mandelbrot Path</div>
                    <div class="text">
                        <div class="canvas-container">
                            <canvas id="mandelbrotpath" width="600" height="400"></canvas>
                        </div>
                        This demo shows the path that is followed when iterating the mandelbrot equation.
                        <p>
                        When the line is red, it means that the point is inside the Mandelbrot Set. If it is green, then it is not.
                    </div>
                </div>

                <div class="content">
                    <div class="title">Buddhabrot and Nebulabrot</div>
                    <div class="text">
                        The following three canvases are demos of what is called the buddhabrot (the name comes from the fact that it looks like an image of Buddha rotated 90<super>o</super>). This method of rendering the mandelbrot set makes use of the effect seen in the previous demo. Rather than just rendering how long it takes for the path to escape from the mandelbrot set it makes a 2D histogram of the points as they are escaping. The points are sampled over the image via the Monte Carlo method. Unlike the normal rendering of the mandelbrot set, the final result is highly dependent on the number of iterations that are done (as can be seen in the examples below).
                        <p>
                        Possible improvements can be done with Metropolis-Hastings sampling.
                        <p>
                        As you mouseover each of the canvases, they will begin calculating in the background. When you click on the canvas, it will render what has currently been calculated.
                        <div class="canvas-container">
                            <canvas id="buddhabrot_red" width="600" height="400"></canvas>
                            <canvas id="buddhabrot_green" width="600" height="400"></canvas>
                            <canvas id="buddhabrot_blue" width="600" height="400"></canvas>
                        </div>
                        The following is the result if the images above are added together with each one going to a different color channel. This method of rendering the mandelbrot set is called the nebulabrot (due to the fact that the coloring scheme is similar to the method that is used when taking pictures of nebulas). Note: for this to work properly you must have ran the previous three canvases.
                        <p>
                        Pressing <code>A</code> will cycle the color channels r -> g -> b.
                        Pressing <code>S</code> will flip the red and green channels.
                        <div class="canvas-container">
                            <canvas id="nebulabrot" width="600" height="400" tabindex="2"></canvas>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </body>
</html>